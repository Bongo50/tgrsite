var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var l=a[e];l in b||(b[l]={});b=b[l]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var e=this;e instanceof String&&(e=String(e));var c=e.length;b=b||0;for(0>b&&(b=Math.max(b+c,0));b<c;b++){var m=e[b];if(m===a||Object.is(m,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");
(function(a,c,b,e){a.fn.MarkdownEditor=function(){var b=function(a,b){var d=a.value;a=b;-1<d.indexOf("\r\n")&&(b=d.replace(/\r\n/g,"\n").slice(0,b).match(/\n/g),a+=b?b.length:0);return a},e={bold:{start:"**",end:"**",placeholder:"Your bold text"},italic:{start:"*",end:"*",placeholder:"Your emphasized text"},link:{start:"[",end:"](N)",placeholder:"Add your link title"},head:{start:"#",end:"",placeholder:"Your header"},image:{start:"![",end:"](N)",placeholder:"Add image description"},pre:{start:"",
end:"",placeholder:"\n    Add your code block here\n"},code:{start:"`",end:"`",placeholder:"Add inline code here"},ul:{start:"* ",end:"",placeholder:"List Item"},ol:{start:"1. ",end:"",placeholder:"List Item"}};return this.each(function(){var d=this,c=a('<div class="controls" id="'+d.id+'-controls" />');a(d).before(c.append('<div class="btn-toolbar" role="toolbar" aria-label="Markdown Toolbar"><div class="btn-group mr-2 mb-1" role="group" aria-label="Formatting"><button type="button" data-toggle="tooltip" data-placement="bottom" title="Bold" class="btn btn-light c-bold"><i class="fas fa-bold"></i></button><button type="button" data-toggle="tooltip" data-placement="bottom" title="Italic" class="btn btn-light c-italic"><i class="fas fa-italic"></i></button><button type="button" data-toggle="tooltip" data-placement="bottom" title="Heading" class="btn btn-light c-head"><i class="fas fa-heading"></i></button><button type="button" data-toggle="tooltip" data-placement="bottom" title="Code" class="btn btn-light c-code"><i class="fas fa-code"></i></button></div><div class="btn-group mr-2 mb-1" role="group" aria-label="Utilities"><button type="button" data-toggle="tooltip" data-placement="bottom" title="Link" class="btn btn-light c-link"><i class="fas fa-link"></i></button><button type="button" data-toggle="tooltip" data-placement="bottom" title="Image" class="btn btn-light c-image"><i class="fas fa-image"></i></button></div><div class="btn-group mr-2 mb-1" role="group" aria-label="Lists"><button type="button" data-toggle="tooltip" data-placement="bottom" title="Bullet List" class="btn btn-light c-ul"><i class="fas fa-list-ul"></i></button><button type="button" data-toggle="tooltip" data-placement="bottom" title="Ordered List" class="btn btn-light c-ol"><i class="fas fa-list-ol"></i></button></div></div>'));
a(d).on("keypress",function(a){return MarkdownHelper(d,a)});a("button",c).on("click",function(c){c.preventDefault();d.focus();var f=this.className.substr(16),g=d.selectionStart;c=d.selectionEnd;if(["head","ul","ol"].includes(f)){g=d.value.lastIndexOf("\n",g)+1;var h=d.value.indexOf("\n",c)-1;c=-2===h?c:h}h=d.value.substring(g,c);var k=a.trim(d.value.charAt(g-1)+d.value.charAt(c));f="code"===f&&(-1!==h.indexOf("\n")||!k||1>d.value.length)?"pre":f;k=a.extend({},e[f]);var l=a.trim(k.placeholder),m=k.placeholder.indexOf(l);
if(h===l)return!0;if(-1!==a.inArray(f,["link","image"])){var n=prompt("image"!==f?"Enter the URL":"Enter image URL","http://");if(n)k.end=k.end.replace("N",n);else return!0}g===c?(d.value=d.value.substring(0,c)+k.start+k.placeholder+k.end+d.value.substring(c),f=c+k.start.length+m,c=c+k.start.length+m+l.length,d.focus(),d.setSelectionRange?d.setSelectionRange(b(d,f),b(d,c)):d.createTextRange&&(g=d.createTextRange(),g.collapse(!0),g.moveEnd("character",c),g.moveStart("character",f),g.select())):"pre"===
f?(g=d.value.lastIndexOf("\n",d.selectionStart),f=d.selectionEnd,-1===g&&(g=0),"\n"===d.value.charAt(f-1)&&--f,f=d.value.indexOf("\n",f),-1===f&&(f=d.value.length),c="\n"+d.value.substring(g,f)+"\n\n",g=d.value.substring(0,g),g+=c.replace(/^(?=.+)/mg,Array(5).join(" ")),g+=d.value.substring(f),d.value=g):d.value=d.value.replace(h,k.start+h+k.end);return!0})})}})(jQuery,window,document);
function MarkdownHelper(a,c){if(13===c.keyCode){var b=!1;c=a.value.replace(/\r\n/g,"\n");if(a.selectionStart)var e=a.selectionStart;else a.focus(),e=document.selection.createRange(),e.moveStart("character",-c.length),e=e.text.replace(/\r\n/g,"\n").length;var l=c.split("\n");var m=c.substr(0,e).split("\n").length;var d=l[m-1].replace(/^\s+/,"");var n=d.substr(0,2);if(/^[0-9]+[.] (.*)$/.test(d)){var h=d.substr(0,d.indexOf(". "));var f=h+". ";h=parseInt(h,10)+1+". ";b=!0}d&&!b&&"    "===l[m-1].substr(0,
4)&&(f=h="    ",b=!0);0<=["* ","+ ","- "].indexOf(n)&&(f=h=n,b=!0);if(b)return b=l[m-1].indexOf(f),d.replace(/^\s+/,"")===f?(a.value=c.substr(0,e-1-b-h.length)+"\n\n"+c.substr(e,c.length),f=e+1-h.length-b):(a.value=c.substr(0,e)+"\n"+Array(b+1).join(" ")+h+c.substr(e,c.length),f=e+1+h.length+b),a.selectionStart?a.setSelectionRange(f,f):(e=a.createTextRange(),e.move("character",f),e.select()),!1}};
