{% extends 'tgrsite/emailcontent.html' %}
{% load markdown_tags %}
{% load static %}

{% block title %}{{ object.title }}{% endblock %}
{% block leftcontents %}
{% endblock %}

{% block css %}
    <style>
        #incorrect-newsletter {
            margin-left: auto;
            margin-right: auto;
            text-align: center;
            margin-top: 10px;
        }
    </style>
{% endblock %}

{% block body %}
    <p id="incorrect-newsletter">Newsletter doesn't look right? Try viewing it on our website <a
            href="https://{{ request.get_host }}{% url 'newsletters_detail' object.id %}">here</a>!</p>
    <img src="{% fullstatic 'newsletter-banner.png' %}" style="width: 100%;"/>
    <h1>{{ object.title }}
        <small>
            {% if object.author %} by <a href="https://{{ request.get_host }}{% url 'user' object.author.id %}">{{ object.author }}</a> {% endif %}
            <small>({{ object.pub_date }})</small>
        </small>
    </h1>
    <p></p>
    <article>
        {{ object.body|parse_md_safe }}
    </article>
    {% if unsub %}<small>If you don't want to receive these notification emails any more, please visit your
        <a href="{{ request.scheme }}://{{ request.get_host }}{% url "notification_settings" %}">
            notification settings
        </a>.</small>
    {% endif %}
{% endblock %}
